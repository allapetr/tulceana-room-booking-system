# TULCEANA ROOM BOOKING SYSTEM
#### Video Demo:  https://youtu.be/6It7e7I6iHQ
#### Description:

My final project is a hotel booking system which allows a user to store new room bookings in a database. I created this project to support my family hotel business by having a piece of software we can rely on when managing room bookings. For this, I used Python, HTML, CSS, SQLite and, finally, Flask as the framework to bind everything together.

I am submitting two files, “app.py” and “tulceana.db”, and two folders, “templates” and “static”, which each contains several files. 

“app.py” is the brain of my project because it contains three functions, “make_booking”, “confirmation” and “login”, which make everything happen behind the scenes. First of all, I import Flask, render_template, session, g, redirect, request, sqlite3, check_pssword_hash, Session, mkdtemp, wraps, time delta, datetime to have all the functionalities I need to build what I need and then I initialize a Flask app. I also set up the connection with the database and make sure that the database closes after the app stops working. In addition, I create the “login_required” function to be able to stop the access of non-members to the “make_booking” page in the function I create immediately after. The “ make_booking” function is the most significant functionality of my app because it stores the data in “tulceana.db” database. With an if else this either renders the “make_booking.html” template and selects the room types and room numbers from the “room_type” and “rooms” tables from my database or it inserts the first and last names of customers, the city they come from, their phone number into the “customers” table in my database. It also stores the check in and check out dates, which turned out to be a difficult task. I spent a significant amount of time researching the web for the functions I needed to do this and so eventually I imported “time delta” and “datetime” from “datetime” for this purpose. “make_booking” also inserts the time the booking is made at using the “datetime.now” function and the booking id into the “bookings” table and the check in and check out dates into the “bookings_line” table in my database. If all the information is correct, this function takes the admins to a booking confirmation page which prompts them with a message confirming the booking and rendering the booking id. The “confirmation” function renders the “confirmation.html” template and extracts the booking id from the database in order to show it to the admin making the booking. For this, login is required for which I make use of the “login_required” function defined above. The “login” function checks that both the username and password are introduced by the admin trying to use the booking system. If either or both are missing, the admin will be promoted with an apology message. This function also makes sure the username and password submitted in the login form exist in the database to ensure that only authorized users access the booking system. For the time being, I already introduced in the “admins” table in my database two admins, myself and my mom, each with a username and a password, stored with a hash key which I generated with the hash password generating function.

“tulceana.db” is the database which stores the admin login information (in the “admins” table) and all the data submitted with each room booking (in all the other tables). I built the database using a piece of software called “DB Browser for SQLite” which made it easy for me to create all the tables I needed for my project and to easily change the structure of my tables. The database contains 8 tables: “admins”, “bookings”, “bookings_line”, “customers”, “prices”, “room_type” and “rooms”. “admins”, “room_type”, “rooms” and “prices” are complete tables because they provide the pre-established information of our hotel business. “admins” contains the login data of the two admins, “room_type” contains the type of rooms we can offer to customers, “rooms” has all the numbers of our rooms (this is connected to the “room_type” table through the “room_type_id”) and “prices” has our prices which change over the time we offer accommodation. Creating and structuring my database was a complex task because I had to learn how to connect the different tables using ids in order to avoid having too much data in one table or few tables only. This was a significant learning curve for me and took me a lot of time to figure out.

The “templates” folder contains 5 HTML files which are rendered via the “render_template” function in “app.py”. “layout.html” is the main file in this folder because it contains all the information that the other html files in the folder have in common. Flask helps very much in this sense because we do not have to repeat code for each page of the application, but we can just fit in the content specific to each page onto the information contained by “layout.html”. In this way, “apology.html” prompts the admins with different messages whenever they introduce a password or a username not present in the database, “confirmation.html” confirms that a booking has been added to the database and prompts the admins with a booking id generated by the “bookings” table in the database, “login.html” is the gateway to the “make_booking.html” page by asking for the admins’ username and password and “make_booking.html” asks the admins for the information needed in order to save a booking to the database. Flask requires the programmer to include “{% extends "layout.html" %}” at the beginning of each page which is not “layout.html” in order to connect the html files with “layout.html”, just like a puzzle.

The html files from the “templates” folder are stylized with css code from the “static” folder. Front end is the part of the project I am least familiar with, so this needs more work and design. The element I found most interesting in this part of the project is the small Java Script code in “layout.html” which makes two input boxes appear when admins select a room they want to book for a customer.
